version: 2
type: decoder
name: com.hardwario.chester.app.clime
schema:
  - message:
      - version:
      - sequence:
      - timestamp:
  - system:
      - uptime:
      - voltage_load:
          - $div: 1000
          - $fpp: 2
      - voltage_rest:
          - $div: 1000
          - $fpp: 2
      - current_load:
  - network:
      - imei:
      - imsi:
  - thermometer:
      - temperature:
          - $div: 100
          - $fpp: 2
  - accelerometer:
      - accel_x:
          - $div: 1000
          - $fpp: 2
      - accel_y:
          - $div: 1000
          - $fpp: 2
      - accel_z:
          - $div: 1000
          - $fpp: 2
      - orientation:
  - backup:
      - line_voltage:
          - $div: 1000
          - $fpp: 2
      - batt_voltage:
          - $div: 1000
          - $fpp: 2
      - state:
          - $enum:
              - "disconnected"
              - "connected"
          - events:
              - $tso:
                  - type:
                      - $enum:
                          - "disconnected"
                          - "connected"
  - hygrometer:
      - temperature:
          - events:
              - $tso:
                  - type:
                      - $enum:
                          - "disconnected"
                          - "connected"
          - measurements:
              - $tsp:
                  - value:
                      - $div: 100
                      - $fpp: 2
      - humidity:
          - measurements:
              - $tsp:
                  - value:
                      - $div: 100
                      - $fpp: 2
  - w1_thermometers:
      - serial_number:
      - measurements:
          - $tsp:
              - min:
                  - $div: 100
                  - $fpp: 2
              - max:
                  - $div: 100
                  - $fpp: 2
              - avg:
                  - $div: 100
                  - $fpp: 2
              - mdn:
                  - $div: 100
                  - $fpp: 2
  - ultrasonic_ranger:
      - measurements:
          - $tsp:
              - min:
                  - $div: 100
                  - $fpp: 2
              - max:
                  - $div: 100
                  - $fpp: 2
              - avg:
                  - $div: 100
                  - $fpp: 2
              - mdn:
                  - $div: 100
                  - $fpp: 2
